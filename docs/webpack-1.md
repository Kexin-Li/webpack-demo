# Webpack 概念篇

Webpack 是一个构建工具。由于 web 技术发展迅速，我们已经从原来的 jquery 这种命名空间编程方式走向了模块化的编程之路，以及各种框架的诞生，使得构建工具的应运而生。

构建工具所做的事就是**将模块化编程的代码转换成能够直接部署上线执行的 HTML、CSS、JavaScript 代码**。

包括如下内容：

1. 代码转换：TypeScript 编译成 JavaScript、SCSS 编译成 CSS 等。
2. 文件优化：压缩 JavaScript、CSS、HTML 代码，压缩合并图片等。
3. 代码分割：提取多个页面的公共代码、提取首屏不需要执行部分的代码让其异步加载。
4. 模块合并：在采用模块化的项目里会有很多个模块和文件，需要构建功能把模块分类合并成一个文件。
5. 自动刷新：监听本地源代码的变化，自动重新构建、刷新浏览器。
6. 代码校验：在代码被提交到仓库前需要校验代码是否符合规范，以及单元测试是否通过。
7. 自动发布：更新完代码后，自动构建出线上发布代码并传输给发布系统。

## 几个核心概念

- Entry：输入。
- Module：模块。在 webpack 中一切皆模块，一个模块就是一个文件。webpack 会从 Entry 递归找出所有依赖的模块。
- Chunk：代码块。一个 Chunk 由多个模块组合而成，用于代码的合并与分割。
- Loader：模块转换器。用于将模块原内容转换为需要的新内容。
- Plugin：扩展插件。在 webpack 的构建流程中的特定时机注入扩展逻辑来改变构建结果。
- Output：输出。

## Webpack 构建流程

1. 首先 Webpack 根据 Entry 配置的入口模块，递归的找出所有依赖的模块。
2. 接着依次使用配置的 loader 解析这些模块，生成新的模块。然后根据一个入口为一组，将这些模块整合为一个 Chunk。
3. 最后 Webpack 会把所有 Chunk 转换为文件输出。

在整个构建流程中，Webpack 会在恰当的时候去执行 Plugin 里的逻辑。
